[gd_scene load_steps=11 format=3 uid="uid://dsmhw7jv238pj"]

[ext_resource type="PackedScene" uid="uid://bfjxjanc6tx24" path="res://scenes/score_keeper.tscn" id="1_nt7q6"]
[ext_resource type="Script" uid="uid://dp88orswykbe3" path="res://scripts/ui/ui.gd" id="1_wm3ai"]
[ext_resource type="Texture2D" uid="uid://cj4jpgdssnx6g" path="res://assets/sprites/projectile/projectile_1.png" id="2_gdt2y"]
[ext_resource type="Texture2D" uid="uid://cfssubwb4meux" path="res://assets/sprites/projectile/projectile_2.png" id="3_wm3ai"]
[ext_resource type="Texture2D" uid="uid://dhbxvgd5troly" path="res://assets/sprites/projectile/projectile_3.png" id="4_8dubc"]
[ext_resource type="Script" uid="uid://gf17h7liqpxg" path="res://scripts/state_machine.gd" id="6_8dubc"]
[ext_resource type="Script" uid="uid://cdnaxn10beynr" path="res://scripts/ui/states/normal.gd" id="7_ktti3"]
[ext_resource type="Script" uid="uid://b013eglg5qrdd" path="res://scripts/ui/states/game_over.gd" id="8_cgfq5"]

[sub_resource type="LabelSettings" id="LabelSettings_wm3ai"]
font_size = 144

[sub_resource type="SpriteFrames" id="SpriteFrames_p7vwb"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_gdt2y")
}, {
"duration": 1.0,
"texture": ExtResource("3_wm3ai")
}, {
"duration": 1.0,
"texture": ExtResource("4_8dubc")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="UI" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_wm3ai")

[node name="ScoreKeeper" parent="." instance=ExtResource("1_nt7q6")]
layout_mode = 0
offset_right = 1151.0

[node name="GameOver" type="Label" parent="."]
unique_name_in_owner = true
visible = false
layout_mode = 0
offset_right = 1154.0
offset_bottom = 648.0
text = "GAME OVER!"
label_settings = SubResource("LabelSettings_wm3ai")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Magazine" type="Node" parent="."]

[node name="bullet1" type="AnimatedSprite2D" parent="Magazine"]
position = Vector2(28, 101)
sprite_frames = SubResource("SpriteFrames_p7vwb")
frame_progress = 0.80657756

[node name="bullet2" type="AnimatedSprite2D" parent="Magazine"]
position = Vector2(57, 101)
sprite_frames = SubResource("SpriteFrames_p7vwb")
frame_progress = 0.16722794

[node name="bullet3" type="AnimatedSprite2D" parent="Magazine"]
position = Vector2(85, 102)
sprite_frames = SubResource("SpriteFrames_p7vwb")
frame_progress = 0.48735872

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("6_8dubc")
initial_state = NodePath("Normal")

[node name="Normal" type="Node" parent="StateMachine"]
script = ExtResource("7_ktti3")

[node name="GameOver" type="Node" parent="StateMachine"]
script = ExtResource("8_cgfq5")

[node name="ReloadProgress" type="ProgressBar" parent="."]
unique_name_in_owner = true
layout_mode = 0
offset_left = 19.0
offset_top = 126.0
offset_right = 93.0
offset_bottom = 153.0
